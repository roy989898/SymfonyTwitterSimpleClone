{% extends 'base.html.twig' %}

{% block title %}Hello PostController!{% endblock %}

{% block body %}

    <div class="flex flex-col">

        {% for post in posts %}
            <div class="text-fuchsia-700">

                <div class="flex flex-row gap-0.5 items-center mb-2">

                    <a href="{{ path('app_post_detail',{'post':post.id}) }}">

                        {{ post.text }}
                    </a>

                    {% if  app.user!=null %}
                        {% if (post.user!=null and app.user.id == post.user.id) or is_granted('ROLE_SUPER_ADMIN') %}
                            <a class="text-pink-800 border border-pink-800 p-1 "
                               href="{{ path('app_post_edit',{'post':post.id}) }}">edit</a>



                            <a class="text-amber-400 border border-amber-400  p-1 "
                               href="{{ path('app_post_delete',{'post':post.id}) }}">Delete</a>
                        {% endif %}
                    {% endif %}
                </div>

            </div>

        {% endfor %}
    </div>

{% endblock %}
